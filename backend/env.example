# Server
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# Database
# Option 1: Local PostgreSQL (Docker Compose)
# DATABASE_URL=postgresql://bevyly:bevyly@localhost:5432/bevyly
# DATABASE_SSL=false

# Option 2: Supabase (recommended for cloud deployment)
# Format: postgresql://postgres.<project-ref>:<password>@aws-0-<region>.pooler.supabase.com:6543/postgres
# IMPORTANT: URL-encode special characters in password (e.g., @ becomes %40)
# Example: Bevyly@20001 â†’ Bevyly%4020001
DATABASE_URL=postgresql://postgres:PASSWORD@db.wholtcsgqsobvtueyujr.supabase.co:5432/postgres?sslmode=require

DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# Database SSL Configuration
# DATABASE_SSL: Enable/disable SSL for database connections (default: true)
# DATABASE_SSL_REJECT_UNAUTHORIZED: Verify server certificate (default: true)
#   - Set to false for Supabase in development (self-signed certs)
#   - Keep true in production for security
DATABASE_SSL=true
DATABASE_SSL_REJECT_UNAUTHORIZED=false

# Redis
REDIS_URL=redis://localhost:6379

# Auth
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
API_KEY_PREFIX=sk_

# Encryption (for storing provider tokens)
ENCRYPTION_KEY=your-32-byte-encryption-key-here

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# OpenTelemetry
OTEL_ENABLED=true
OTEL_SERVICE_NAME=bevyly-backend
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# Email Providers (optional for dev)
EMAIL_PROVIDER=mock
GMAIL_CLIENT_ID=
GMAIL_CLIENT_SECRET=
OUTLOOK_CLIENT_ID=
OUTLOOK_CLIENT_SECRET=
SES_REGION=
SES_ACCESS_KEY_ID=
SES_SECRET_ACCESS_KEY=

# Calendar Providers (optional for dev)
CALENDAR_PROVIDER=mock
GOOGLE_CALENDAR_CLIENT_ID=
GOOGLE_CALENDAR_CLIENT_SECRET=

# Kafka / Redpanda
KAFKA_ENABLED=true
KAFKA_BROKERS=localhost:19092
KAFKA_CLIENT_ID=bevyly-backend

# Service URLs (for gateway routing)
GATEWAY_PORT=3000
AUTH_SERVICE_URL=http://localhost:3001
CRM_SERVICE_URL=http://localhost:3002
EMAIL_SERVICE_URL=http://localhost:3003
CALENDAR_SERVICE_URL=http://localhost:3004
SEQUENCES_SERVICE_URL=http://localhost:3005
ACTIVITIES_SERVICE_URL=http://localhost:3006

# Logging
LOG_LEVEL=debug
LOG_PRETTY=true

